<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

<div class="w-90">
  <%= render 'partials/nav' %>
</div>


<p id="notice"><%= notice %></p>

<div class="flex-container">
<div class="column-container">


    <div class="flex-row">
      <div class="flex-col-50" style="display: inline">

        <h1><%= @professor.full_name %> </h1>
    <p><%= @professor.tamu_dir_dept %></p>
    <div class = "review-level-container">
        <h3><%= @avg_review %></h3>
        <div class = "rating-star">
          <!-- need implementation -->
          <%= image_tag 'rating-star.png', class: 'rating-image'%>
          <%= image_tag 'rating-star.png', class: 'rating-image'%>
          <%= image_tag 'rating-star.png', class: 'rating-image'%>
          <%= image_tag 'rating-star.png', class: 'rating-image'%>
          <%= image_tag 'rating-star.png', class: 'rating-image'%>
        </div>
        <% if @grouped_courses.empty? %>
          <h4>(0 reviews)</h4>
        <% else %>
          <h4>(<%= @num_reviews %> reviews)</h4>
        <% end %>
    </div>
      </div>
      <div class="flex-col-50">
        <%= link_to 'Write a Review', new_review_path, :class => 'btn btn-primary w-50' %>
      </div>
    </div>




  <% if @grouped_courses.empty? %>
    <hr>
    <p>This professor does not have any reviews.</p>
  <% else %>

  <!--
  <div class = "tag-block-container">
    <h2>Top Tags</h2>
    <div class = "tag-group-container">
      <div class = "border-container">
        <p>tag1</p>
      </div>
      <div class = "border-container">
        <p>tag22</p>
      </div>
      <div class = "border-container">
        <p>tag333</p>
      </div>
      <div class = "border-container">
        <p>tag4444</p>
      </div>
      <div class = "border-container">
        <p>tag55555</p>
      </div>
      <div class = "border-container">
        <p>tag666666</p>
      </div>
    </div>
  </div>

  -->

  <hr>


  <!--highest rated-->
  <div class = "rating-block-container">
    <div class = "review-container">
      <h2>Highest Rated Course</h2>
      <h3>
        <%= link_to @highest_rated_course.dept + ' ' + @highest_rated_course.course_num + ' • ' + @highest_rated_course.name, professor_course_path(@professor, @highest_rated_course), :style=> 'color:#00817E;'%>
      </h3>
      <div class = "rating-star">
        <% (1..@highest_rating).each do |i| %>
          <span class="fa fa-star checked"></span>
        <% end %>
        <% (1..@highest_rating_compo).each do |i| %>
          <span class="fa fa-star"></span>
        <% end %>
      </div>
      <h4>MM/DD/YYYY</h4>
      <p>“With the 121 assignments and tests recently standardized, the difficulty difference between professors is minimal. Professor Nowak is an excellent teacher who's also down to earth and really cares about your understanding. Highly recommend him”</p>
      <div class = "user-agree-container">
        <h5># of #</h5>
        <h4>users agree with this review</h4>
      </div>
    </div>
  </div>

  <hr>

  <!--lowest rated-->
  <div class = "rating-block-container">
    <div class = "review-container">
      <h2>Lowest Rated Course</h2>
      <h3>
        <%= link_to @lowest_rated_course.dept + ' ' + @lowest_rated_course.course_num + ' • ' + @lowest_rated_course.name, professor_course_path(@professor, @lowest_rated_course), :style=> 'color:#00817E;' %>
      </h3>
      <div class = "rating-star">
        <div class = "rating-star">
        <% (1..@lowest_rating).each do |i| %>
          <span class="fa fa-star checked"></span>
        <% end %>
        <% (1..@lowest_rating_compo).each do |i| %>
          <span class="fa fa-star"></span>
        <% end %>
      </div>
      </div>
      <h4>MM/DD/YYYY</h4>
      <p>example review paragraphs</p>

      <div class = "user-agree-container">
        <h5># of #</h5>
        <h4>users agree with this review</h4>
      </div>
      
    </div>
  </div>

  <% end %>

  <hr>

  <!--all course-->
  <div class = "all-course-container">
    <h2>All Courses</h2>
    <% if @grouped_courses.empty? %>
      <p>This professor has not taught any other courses.
    <% else %>
    <table class = "course-table-container">
      <thead>
        <tr>
          <th>Name</th>
          <th colspan="5"></th>
          <th class = "table-padding">Rating</th>
        </tr>
        <tr> 
          <td colspan="100%"> <hr /> </td>      
        </tr>

      </thead>


  <tbody>

    <% @grouped_courses.each do |course, _reviews| %>
      <tr>
        <td>
          <h3>
          <%= link_to course.dept + ' ' + course.course_num, professor_course_path(@professor, course), :style=> 'color:#00817E;'%>
          </h3>
        </td>
        <td colspan="5"></th>
        <td class = "table-padding"></td>
      </tr>
      <tr> 
          <td colspan="100%"> <hr /> </td>      
        </tr>
    <% end %>

  </tbody>

    </table>
    <% end %>


</div>
</div>
